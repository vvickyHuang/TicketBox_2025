{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/iris/Desktop/1117/TicketBox_2025/frontend/src/components/CountdownTimer/index.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nexport default function CountdownTimer({ onTimeChange }) {\r\n  const [secondsLeft, setSecondsLeft] = useState(300); // 5 分鐘倒數\r\n\r\n  useEffect(() => {\r\n    if (secondsLeft <= 0) {\r\n      if (onTimeChange) onTimeChange('00:00'); // 倒數結束\r\n      return;\r\n    }\r\n\r\n    const interval = setInterval(() => {\r\n      setSecondsLeft((prev) => prev - 1);\r\n    }, 1000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [secondsLeft, onTimeChange]);\r\n\r\n  const minutes = Math.floor(secondsLeft / 60);\r\n  const seconds = secondsLeft % 60;\r\n\r\n  const formattedTime = `${minutes.toString().padStart(2, '0')}:${seconds\r\n    .toString()\r\n    .padStart(2, '0')}`;\r\n\r\n  // 每秒回傳給父元件\r\n  useEffect(() => {\r\n    if (onTimeChange) onTimeChange(formattedTime);\r\n  }, [formattedTime, onTimeChange]);\r\n\r\n  return (\r\n    <Typography variant='body1' sx={{ fontWeight: 700, color: '#ff4d4f' }}>\r\n      剩餘時間: {formattedTime}\r\n    </Typography>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;AAEe,SAAS,eAAe,EAAE,YAAY,EAAE;;IACrD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC,MAAM,SAAS;IAE9D,IAAA,0KAAS;oCAAC;YACR,IAAI,eAAe,GAAG;gBACpB,IAAI,cAAc,aAAa,UAAU,OAAO;gBAChD;YACF;YAEA,MAAM,WAAW;qDAAY;oBAC3B;6DAAe,CAAC,OAAS,OAAO;;gBAClC;oDAAG;YAEH;4CAAO,IAAM,cAAc;;QAC7B;mCAAG;QAAC;QAAa;KAAa;IAE9B,MAAM,UAAU,KAAK,KAAK,CAAC,cAAc;IACzC,MAAM,UAAU,cAAc;IAE9B,MAAM,gBAAgB,GAAG,QAAQ,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,QAC7D,QAAQ,GACR,QAAQ,CAAC,GAAG,MAAM;IAErB,WAAW;IACX,IAAA,0KAAS;oCAAC;YACR,IAAI,cAAc,aAAa;QACjC;mCAAG;QAAC;QAAe;KAAa;IAEhC,qBACE,6LAAC,kLAAU;QAAC,SAAQ;QAAQ,IAAI;YAAE,YAAY;YAAK,OAAO;QAAU;;YAAG;YAC9D;;;;;;;AAGb;GAjCwB;KAAA","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///Users/iris/Desktop/1117/TicketBox_2025/frontend/src/components/TestQR/index.jsx"],"sourcesContent":["import { Dialog, DialogContent, Typography, Box, Button, Grid, Stack, Chip } from '@mui/material';\r\nimport WarningAmberIcon from '@mui/icons-material/WarningAmber';\r\nimport ErrorIcon from '@mui/icons-material/Error';\r\nimport { useEffect, useState } from 'react';\r\nimport { LuArrowLeft, LuArrowRight } from 'react-icons/lu';\r\nimport { useIsMobile } from '@/hook/useIsMobile';\r\nimport CountdownTimer from '@/components/CountdownTimer';\r\n\r\nexport default function TicketQRCodeDialog({ oriTicketList, handleSearch }) {\r\n  const isMobile = useIsMobile();\r\n  const [loadingMap, setLoadingMap] = useState({ isLoadingQR: true });\r\n\r\n  const [activeTicket, setActiveTicket] = useState(0);\r\n  const [time, setTime] = useState('');\r\n  const [ticketVcList, setTicketVcList] = useState(oriTicketList);\r\n  // console.log('oriTicketList', oriTicketList);\r\n  useEffect(() => {\r\n    setTicketVcList(oriTicketList);\r\n    setTimeout(() => {\r\n      setLoadingMap((prev) => ({ ...prev, isLoadingQR: false }));\r\n    }, 200);\r\n  }, [oriTicketList]);\r\n  // console.log('oriTicketList', ticketVcList);\r\n\r\n  const handlePrev = () => setActiveTicket((prev) => Math.max(prev - 1, 0));\r\n  const handleNext = () => setActiveTicket((prev) => Math.min(prev + 1, ticketVcList.length - 1));\r\n  useEffect(() => {\r\n    const interval = setInterval(async () => {\r\n      try {\r\n        const results = await Promise.all(\r\n          ticketVcList.map(async (ticket) => {\r\n            // 如果已經掃描過，就不再查 API\r\n            if (ticket.isScanned) return ticket;\r\n            // console.log(ticket.vcBindToken);\r\n            const res = await fetch(`/api/concert/checkStatus?id=${ticket.vcBindToken}`);\r\n            const data = await res.json();\r\n            // console.log('checkStatus data', data.message);\r\n            return {\r\n              ...ticket,\r\n              isScanned: data.message === 'VC 綁定完成',\r\n            };\r\n          })\r\n        );\r\n\r\n        setTicketVcList(results);\r\n        handleSearch?.();\r\n      } catch (err) {\r\n        console.error('票券檢查失敗', err);\r\n      }\r\n    }, 5000); // 每 5 秒檢查一次，可以調整\r\n\r\n    return () => clearInterval(interval); // 組件卸載時清除計時器\r\n  }, [ticketVcList]);\r\n  const [tourOpen, setTourOpen] = useState(false);\r\n\r\n  return isMobile ? (\r\n    <>\r\n      <DialogContent sx={{ textAlign: 'center' }}>\r\n        <Typography variant='h6' fontWeight={700} sx={{ mb: 1 }}>\r\n          您的票券已準備好！\r\n        </Typography>\r\n\r\n        <Typography variant='body2' sx={{ color: '#555', mb: 1 }}>\r\n          請點選連接將票券加入數位憑證皮夾 App，完成綁定\r\n        </Typography>\r\n\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            bgcolor: time === '00:00' ? '#fff1f0' : '#fff8e1',\r\n            color: time === '00:00' ? '#ff4d4f' : '#b26a00',\r\n            borderRadius: 2,\r\n            p: 1,\r\n            mb: 2,\r\n          }}\r\n        >\r\n          {time === '00:00' ? <ErrorIcon sx={{ mr: 1 }} /> : <WarningAmberIcon sx={{ mr: 1 }} />}\r\n          <Typography variant='body2' fontWeight={600}>\r\n            {time === '00:00'\r\n              ? '您未在 5 分鐘內完成綁定，連結已失效。'\r\n              : '請於 5 分鐘內完成綁定，否則連結將失效。'}\r\n          </Typography>\r\n        </Box>\r\n\r\n        <CountdownTimer onTimeChange={setTime}></CountdownTimer>\r\n\r\n        <Box sx={{ my: 2 }}>\r\n          <Stack spacing={0.5} alignItems='center' textAlign='center'>\r\n            <Stack direction='row' spacing={2} alignItems='center' justifyContent='center'>\r\n              <Typography variant='subtitle2' fontWeight={600}>\r\n                區域：{ticketVcList[activeTicket]?.area}\r\n              </Typography>\r\n\r\n              <Typography variant='subtitle2' fontWeight={600}>\r\n                座位：{ticketVcList[activeTicket]?.line}排{ticketVcList[activeTicket]?.seat}號\r\n              </Typography>\r\n            </Stack>\r\n\r\n            <Typography variant='subtitle1' fontWeight={700} sx={{ textTransform: 'none' }}>\r\n              姓名：{ticketVcList[activeTicket]?.name}\r\n            </Typography>\r\n          </Stack>\r\n        </Box>\r\n\r\n        <Box\r\n          width={'100%'}\r\n          sx={{\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            display: 'flex',\r\n            position: 'relative',\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              display: 'flex',\r\n              position: 'relative',\r\n              width: 160,\r\n              height: 160,\r\n            }}\r\n          >\r\n            <Button\r\n              id='ticketQRCode'\r\n              variant='contained'\r\n              color='primary'\r\n              disabled={!ticketVcList[activeTicket]?.deeplink}\r\n              onClick={() => {\r\n                const authUri = ticketVcList[activeTicket]?.deeplink;\r\n                if (authUri) {\r\n                  window.location.href = authUri;\r\n                }\r\n              }}\r\n            >\r\n              加入數位憑證皮夾 App\r\n            </Button>\r\n            {/* <img\r\n            src={ticketVcList[activeTicket]?.qrcode}\r\n            alt=\"QR Code\"\r\n            style={{\r\n              width: 160,\r\n              height: 160,\r\n              borderRadius: 12,\r\n              border: '1px solid #eee',\r\n            }}\r\n          /> */}\r\n\r\n            {ticketVcList[activeTicket]?.isScanned && (\r\n              <Box\r\n                sx={{\r\n                  position: 'absolute',\r\n                  top: 0,\r\n                  left: 0,\r\n                  width: '100%',\r\n                  height: '100%',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  bgcolor: 'rgba(255, 255, 255, 0.6)',\r\n                  borderRadius: 2,\r\n                }}\r\n              >\r\n                <Box\r\n                  sx={{\r\n                    width: 120,\r\n                    height: 120,\r\n                    borderRadius: '50%',\r\n                    border: '5px solid #d32f2f',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    transform: 'rotate(-15deg)',\r\n                    opacity: 0.9,\r\n                  }}\r\n                >\r\n                  <Typography\r\n                    variant='h6'\r\n                    sx={{\r\n                      color: '#d32f2f',\r\n                      fontWeight: 700,\r\n                      letterSpacing: 2,\r\n                    }}\r\n                  >\r\n                    已加入數位憑證皮夾\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        </Box>\r\n\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            mt: 1,\r\n          }}\r\n        >\r\n          <Button\r\n            variant='contained'\r\n            // startIcon={<LuArrowLeft />}\r\n            onClick={handlePrev}\r\n            disabled={activeTicket === 0}\r\n          >\r\n            上一張\r\n          </Button>\r\n\r\n          <Typography variant='body2' sx={{ minWidth: 60, textAlign: 'center', color: '#555' }}>\r\n            {ticketVcList.length > 0 ? `${activeTicket + 1} / ${ticketVcList.length}` : '- / -'}\r\n          </Typography>\r\n\r\n          <Button\r\n            id='navNext'\r\n            variant='contained'\r\n            // endIcon={<LuArrowRight />}\r\n            onClick={handleNext}\r\n            disabled={activeTicket === ticketVcList.length - 1 || ticketVcList.length === 0}\r\n          >\r\n            下一張\r\n          </Button>\r\n        </Box>\r\n      </DialogContent>\r\n    </>\r\n  ) : (\r\n    <>\r\n      <DialogContent sx={{ textAlign: 'center' }}>\r\n        <Typography variant='h6' fontWeight={700} sx={{ mb: 1 }}>\r\n          您的票券已準備好！\r\n        </Typography>\r\n\r\n        <Typography variant='body2' sx={{ color: '#555', mb: 1 }}>\r\n          請使用數位憑證皮夾 App 掃描 QR Code 完成綁定\r\n        </Typography>\r\n\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            bgcolor: time === '00:00' ? '#fff1f0' : '#fff8e1',\r\n            color: time === '00:00' ? '#ff4d4f' : '#b26a00',\r\n            borderRadius: 2,\r\n            p: 1,\r\n            mb: 2,\r\n          }}\r\n        >\r\n          {time === '00:00' ? <ErrorIcon sx={{ mr: 1 }} /> : <WarningAmberIcon sx={{ mr: 1 }} />}\r\n          <Typography variant='body2' fontWeight={600}>\r\n            {time === '00:00'\r\n              ? '您未在 5 分鐘內完成綁定，QR Code已失效。'\r\n              : '請於 5 分鐘內完成掃描，否則 QR Code 將失效。'}\r\n          </Typography>\r\n        </Box>\r\n\r\n        <CountdownTimer onTimeChange={setTime}></CountdownTimer>\r\n\r\n        <Box sx={{ my: 2 }}>\r\n          <Stack spacing={0.5} alignItems='center' textAlign='center'>\r\n            <Stack direction='row' spacing={2} alignItems='center' justifyContent='center'>\r\n              <Typography variant='subtitle2' fontWeight={600}>\r\n                區域：{ticketVcList[activeTicket]?.area}\r\n              </Typography>\r\n\r\n              <Typography variant='subtitle2' fontWeight={600}>\r\n                座位：{ticketVcList[activeTicket]?.line}排{ticketVcList[activeTicket]?.seat}號\r\n              </Typography>\r\n            </Stack>\r\n\r\n            <Typography variant='subtitle1' fontWeight={700} sx={{ textTransform: 'none' }}>\r\n              姓名：{ticketVcList[activeTicket]?.name}\r\n            </Typography>\r\n          </Stack>\r\n        </Box>\r\n\r\n        <Box\r\n          sx={{\r\n            position: 'relative',\r\n            display: 'inline-block',\r\n          }}\r\n        >\r\n          {/*  <img\r\n            src={ticketVcList[activeTicket]?.qrcode}\r\n            alt=\"QR Code\"\r\n            style={{\r\n              width: 160,\r\n              height: 160,\r\n              borderRadius: 12,\r\n              border: '1px solid #eee',\r\n            }}\r\n          /> */}\r\n          {!loadingMap.isLoadingQR ? (\r\n            <img\r\n              id='ticketQRCodePC'\r\n              src={ticketVcList[activeTicket]?.qrcode}\r\n              alt='QR Code'\r\n              style={{\r\n                width: 160,\r\n                height: 160,\r\n                borderRadius: 12,\r\n                border: '1px solid #eee',\r\n              }}\r\n            />\r\n          ) : (\r\n            <Box\r\n              sx={{\r\n                width: 160,\r\n                height: 160,\r\n                borderRadius: 2,\r\n                border: '1px solid #eee',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                gap: 1,\r\n                bgcolor: '#f5f5f5',\r\n                color: '#999',\r\n                '@keyframes spin': {\r\n                  '0%': { transform: 'rotate(0deg)' },\r\n                  '100%': { transform: 'rotate(360deg)' },\r\n                },\r\n              }}\r\n            >\r\n              <Box\r\n                sx={{\r\n                  width: 32,\r\n                  height: 32,\r\n                  border: '3px solid',\r\n                  borderColor: '#999 transparent transparent transparent',\r\n                  borderRadius: '50%',\r\n                  animation: 'spin 1s linear infinite',\r\n                }}\r\n              />\r\n\r\n              <Typography variant='body2'>請等待 QR Code 生成中</Typography>\r\n            </Box>\r\n          )}\r\n\r\n          {ticketVcList[activeTicket]?.isScanned && (\r\n            <Box\r\n              sx={{\r\n                position: 'absolute',\r\n                top: 0,\r\n                left: 0,\r\n                width: '100%',\r\n                height: '100%',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                bgcolor: 'rgba(255, 255, 255, 0.6)',\r\n                borderRadius: 2,\r\n              }}\r\n            >\r\n              <Box\r\n                sx={{\r\n                  width: 120,\r\n                  height: 120,\r\n                  borderRadius: '50%',\r\n                  border: '5px solid #d32f2f',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  transform: 'rotate(-15deg)',\r\n                  opacity: 0.9,\r\n                }}\r\n              >\r\n                <Typography\r\n                  variant='h6'\r\n                  sx={{\r\n                    color: '#d32f2f',\r\n                    fontWeight: 700,\r\n                    letterSpacing: 2,\r\n                  }}\r\n                >\r\n                  已掃描\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          )}\r\n        </Box>\r\n\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            gap: 2,\r\n            mt: 1,\r\n          }}\r\n        >\r\n          <Button\r\n            variant='contained'\r\n            startIcon={<LuArrowLeft />}\r\n            onClick={handlePrev}\r\n            disabled={activeTicket === 0}\r\n          >\r\n            上一張\r\n          </Button>\r\n\r\n          <Typography variant='body2' sx={{ minWidth: 60, textAlign: 'center', color: '#555' }}>\r\n            {ticketVcList.length > 0 ? `${activeTicket + 1} / ${ticketVcList.length}` : '- / -'}\r\n          </Typography>\r\n\r\n          <Button\r\n            id='navNext'\r\n            variant='contained'\r\n            endIcon={<LuArrowRight />}\r\n            onClick={handleNext}\r\n            disabled={activeTicket === ticketVcList.length - 1 || ticketVcList.length === 0}\r\n          >\r\n            下一張\r\n          </Button>\r\n        </Box>\r\n      </DialogContent>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 834, "column": 0}, "map": {"version":3,"sources":["file:///Users/iris/Desktop/1117/TicketBox_2025/frontend/src/components/Tour/BubbleStep.jsx"],"sourcesContent":["import React from 'react';\r\nimport { styled } from '@mui/system';\r\nimport Popper from '@mui/material/Popper';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nconst Arrow = styled('span')(({ placement }) => ({\r\n  position: 'absolute',\r\n  width: 0,\r\n  height: 0,\r\n  ...(placement === 'top' && {\r\n    bottom: -10,\r\n    left: '50%',\r\n    transform: 'translateX(-50%)',\r\n    borderLeft: '8px solid transparent',\r\n    borderRight: '8px solid transparent',\r\n    borderTop: '10px solid #fff',\r\n  }),\r\n  ...(placement === 'bottom' && {\r\n    top: -10,\r\n    left: '50%',\r\n    transform: 'translateX(-50%)',\r\n    borderLeft: '8px solid transparent',\r\n    borderRight: '8px solid transparent',\r\n    borderBottom: '10px solid #fff',\r\n  }),\r\n}));\r\n\r\nexport default function BubbleStep({ anchorEl, placement = 'top', title, text, children, open }) {\r\n  return (\r\n    <Popper\r\n      open={open}\r\n      anchorEl={anchorEl}\r\n      placement={placement}\r\n      modifiers={[\r\n        {\r\n          name: 'offset',\r\n          options: { offset: [0, 10] }, // 氣泡距離目標 10px\r\n        },\r\n      ]}\r\n      sx={{ zIndex: 9999 }}\r\n    >\r\n      <Paper\r\n        sx={{\r\n          padding: '16px',\r\n          width: 260,\r\n          borderRadius: '12px',\r\n          boxShadow: '0 4px 18px rgba(0,0,0,0.25)',\r\n          position: 'relative',\r\n        }}\r\n      >\r\n        <Arrow placement={placement} />\r\n\r\n        <strong>{title}</strong>\r\n        <p style={{ fontSize: 14, marginTop: 4 }}>{text}</p>\r\n\r\n        <div style={{ marginTop: 12 }}>{children}</div>\r\n      </Paper>\r\n    </Popper>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,QAAQ,IAAA,4MAAM,EAAC,QAAQ,CAAC,EAAE,SAAS,EAAE,GAAK,CAAC;QAC/C,UAAU;QACV,OAAO;QACP,QAAQ;QACR,GAAI,cAAc,SAAS;YACzB,QAAQ,CAAC;YACT,MAAM;YACN,WAAW;YACX,YAAY;YACZ,aAAa;YACb,WAAW;QACb,CAAC;QACD,GAAI,cAAc,YAAY;YAC5B,KAAK,CAAC;YACN,MAAM;YACN,WAAW;YACX,YAAY;YACZ,aAAa;YACb,cAAc;QAChB,CAAC;IACH,CAAC;KApBK;AAsBS,SAAS,WAAW,EAAE,QAAQ,EAAE,YAAY,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC7F,qBACE,6LAAC,0KAAM;QACL,MAAM;QACN,UAAU;QACV,WAAW;QACX,WAAW;YACT;gBACE,MAAM;gBACN,SAAS;oBAAE,QAAQ;wBAAC;wBAAG;qBAAG;gBAAC;YAC7B;SACD;QACD,IAAI;YAAE,QAAQ;QAAK;kBAEnB,cAAA,6LAAC,wKAAK;YACJ,IAAI;gBACF,SAAS;gBACT,OAAO;gBACP,cAAc;gBACd,WAAW;gBACX,UAAU;YACZ;;8BAEA,6LAAC;oBAAM,WAAW;;;;;;8BAElB,6LAAC;8BAAQ;;;;;;8BACT,6LAAC;oBAAE,OAAO;wBAAE,UAAU;wBAAI,WAAW;oBAAE;8BAAI;;;;;;8BAE3C,6LAAC;oBAAI,OAAO;wBAAE,WAAW;oBAAG;8BAAI;;;;;;;;;;;;;;;;;AAIxC;MAhCwB","debugId":null}},
    {"offset": {"line": 956, "column": 0}, "map": {"version":3,"sources":["file:///Users/iris/Desktop/1117/TicketBox_2025/frontend/src/components/Tour/BubbleTour.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { styled } from '@mui/system';\r\nimport BubbleStep from './BubbleStep';\r\n\r\nconst Mask = styled('div')({\r\n  position: 'fixed',\r\n  inset: 0,\r\n  // background: 'rgba(0,0,0,0.45)',\r\n  // backdropFilter: 'blur(2px)',\r\n  zIndex: 9990,\r\n});\r\n\r\nconst StepDots = styled('div')({\r\n  position: 'fixed',\r\n  bottom: 40,\r\n  width: '100%',\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  zIndex: 10000,\r\n});\r\n\r\nconst Dot = styled('div')(({ active }) => ({\r\n  width: 8,\r\n  height: 8,\r\n  borderRadius: '50%',\r\n  margin: '0 6px',\r\n  background: active ? '#6A4DFF' : '#ccc',\r\n}));\r\n\r\nexport default function BubbleTour({ open, steps, onClose }) {\r\n  const [index, setIndex] = useState(0);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    setIndex(0);\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const el = document.querySelector(steps[index].target);\r\n    setAnchorEl(el);\r\n  }, [index, open, steps]);\r\n\r\n  if (!open) return null;\r\n\r\n  const step = steps[index];\r\n\r\n  return (\r\n    <>\r\n      <Mask onClick={onClose} />\r\n\r\n      <BubbleStep\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        placement={step.position || 'top'}\r\n        title={step.title}\r\n        text={step.text}\r\n      >\r\n        {/* buttons */}\r\n        <div style={{ display: 'flex', gap: 8 }}>\r\n          {index > 0 && (\r\n            <button\r\n              style={{\r\n                flex: 1,\r\n                padding: '10px',\r\n                borderRadius: 8,\r\n                border: '1px solid #ccc',\r\n                background: '#f5f5f5',\r\n              }}\r\n              onClick={() => setIndex(index - 1)}\r\n            >\r\n              上一步\r\n            </button>\r\n          )}\r\n          <button\r\n            style={{\r\n              flex: 1,\r\n              padding: '10px',\r\n              borderRadius: 8,\r\n              background: '#6A4DFF',\r\n              color: '#fff',\r\n              border: 'none',\r\n            }}\r\n            onClick={() => (index === steps.length - 1 ? onClose() : setIndex(index + 1))}\r\n          >\r\n            {index === steps.length - 1 ? '完成' : '下一步'}\r\n          </button>\r\n        </div>\r\n      </BubbleStep>\r\n\r\n      {/* <StepDots>\r\n        {steps.map((_, i) => (\r\n          <Dot key={i} active={i === index} />\r\n        ))}\r\n      </StepDots> */}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;AAEA,MAAM,OAAO,IAAA,4MAAM,EAAC,OAAO;IACzB,UAAU;IACV,OAAO;IACP,kCAAkC;IAClC,+BAA+B;IAC/B,QAAQ;AACV;KANM;AAQN,MAAM,WAAW,IAAA,4MAAM,EAAC,OAAO;IAC7B,UAAU;IACV,QAAQ;IACR,OAAO;IACP,SAAS;IACT,gBAAgB;IAChB,QAAQ;AACV;AAEA,MAAM,MAAM,IAAA,4MAAM,EAAC,OAAO,CAAC,EAAE,MAAM,EAAE,GAAK,CAAC;QACzC,OAAO;QACP,QAAQ;QACR,cAAc;QACd,QAAQ;QACR,YAAY,SAAS,YAAY;IACnC,CAAC;AAEc,SAAS,WAAW,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE;;IACzD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,IAAA,0KAAS;gCAAC;YACR,IAAI,CAAC,MAAM;YACX,SAAS;QACX;+BAAG;QAAC;KAAK;IAET,IAAA,0KAAS;gCAAC;YACR,IAAI,CAAC,MAAM;YACX,MAAM,KAAK,SAAS,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM;YACrD,YAAY;QACd;+BAAG;QAAC;QAAO;QAAM;KAAM;IAEvB,IAAI,CAAC,MAAM,OAAO;IAElB,MAAM,OAAO,KAAK,CAAC,MAAM;IAEzB,qBACE;;0BACE,6LAAC;gBAAK,SAAS;;;;;;0BAEf,6LAAC,sJAAU;gBACT,MAAM;gBACN,UAAU;gBACV,WAAW,KAAK,QAAQ,IAAI;gBAC5B,OAAO,KAAK,KAAK;gBACjB,MAAM,KAAK,IAAI;0BAGf,cAAA,6LAAC;oBAAI,OAAO;wBAAE,SAAS;wBAAQ,KAAK;oBAAE;;wBACnC,QAAQ,mBACP,6LAAC;4BACC,OAAO;gCACL,MAAM;gCACN,SAAS;gCACT,cAAc;gCACd,QAAQ;gCACR,YAAY;4BACd;4BACA,SAAS,IAAM,SAAS,QAAQ;sCACjC;;;;;;sCAIH,6LAAC;4BACC,OAAO;gCACL,MAAM;gCACN,SAAS;gCACT,cAAc;gCACd,YAAY;gCACZ,OAAO;gCACP,QAAQ;4BACV;4BACA,SAAS,IAAO,UAAU,MAAM,MAAM,GAAG,IAAI,YAAY,SAAS,QAAQ;sCAEzE,UAAU,MAAM,MAAM,GAAG,IAAI,OAAO;;;;;;;;;;;;;;;;;;;AAYjD;GArEwB;MAAA","debugId":null}},
    {"offset": {"line": 1095, "column": 0}, "map": {"version":3,"sources":["file:///Users/iris/Desktop/1117/TicketBox_2025/frontend/src/components/VPQRNew/index.jsx"],"sourcesContent":["import { Dialog, DialogContent, Typography, Box, Button, Stack } from '@mui/material';\r\nimport WarningAmberIcon from '@mui/icons-material/WarningAmber';\r\nimport { useEffect, useState } from 'react';\r\nimport { LuArrowLeft, LuArrowRight } from 'react-icons/lu';\r\nimport { useI18n } from '@/context/i18nContext';\r\nimport { useAppDispatch, useAppSelector } from '@/lib/store';\r\nimport { setTradingList, setBuyInfo } from '@/lib/features/globalSlice';\r\nimport { useIsMobile } from '@/hook/useIsMobile';\r\nimport CountdownTimer from '@/components/CountdownTimer';\r\n\r\nexport default function TicketQRCodeDialog({ dialogType, oriTicketList, handleSearch }) {\r\n  const dispatch = useAppDispatch();\r\n  const { buyInfo } = useAppSelector((state) => state.global);\r\n  // const [currentNum, setCurrentNum] = useState(0);\r\n  const isMobile = useIsMobile();\r\n\r\n  const [time, setTime] = useState('');\r\n\r\n  const [ticketVcList, setTicketVcList] = useState(oriTicketList);\r\n  useEffect(() => {\r\n    setTicketVcList(oriTicketList);\r\n  }, [oriTicketList]);\r\n\r\n  useEffect(() => {\r\n    if (ticketVcList.vcStatus !== 'ACTIVE') return;\r\n    const interval = setInterval(async () => {\r\n      try {\r\n        if (ticketVcList.isScanned) return;\r\n        const res = await fetch(`/api/trading/status?id=${ticketVcList.tradeToken}`);\r\n        const data = await res.json();\r\n        console.log('checkStatus data', data.message);\r\n        let obj = {\r\n          id: Math.random().toString(36).slice(2, 7),\r\n          title: 'BTS PERMISSION TO DANCE ON STAGE - TAIPEI',\r\n          date: '2025/12/20(六) 19:30',\r\n          location: '臺北大巨蛋',\r\n          seat: `特${ticketVcList.area}區 第${ticketVcList.line}排 ${ticketVcList.seat}號 (1張)`,\r\n          price: 6880,\r\n          tags: ['售票', '特A區'],\r\n          status: 'sell',\r\n          seatImg: '/aiimg/btsseat.png',\r\n          image: '/aiimg/btsbg.png',\r\n          seller: {\r\n            name: 'Mike Chen',\r\n          },\r\n          ticketList: [\r\n            {\r\n              areaKey: ticketVcList.area,\r\n              email: '',\r\n              line: ticketVcList.line,\r\n              name: `特${ticketVcList.area}區`,\r\n              price: 6880,\r\n              seat: ticketVcList.seat,\r\n              user: '',\r\n              tradeToken: ticketVcList.tradeToken,\r\n            },\r\n          ],\r\n        };\r\n        dispatch(setTradingList(obj));\r\n        dispatch(\r\n          setBuyInfo({\r\n            concertInfo: obj,\r\n            ticketList: obj.ticketList,\r\n          }),\r\n        );\r\n        setTicketVcList((prev) => ({\r\n          ...prev,\r\n          isScanned: data.message === '票券販售中',\r\n        }));\r\n        handleSearch();\r\n      } catch (err) {\r\n        console.error('票券檢查失敗', err);\r\n      }\r\n    }, 5000); // 每 5 秒檢查一次，可以調整\r\n\r\n    return () => clearInterval(interval); // 組件卸載時清除計時器\r\n  }, [ticketVcList]);\r\n\r\n  useEffect(() => {\r\n    if (ticketVcList.vcStatus !== 'TRADING') return;\r\n    const interval2 = setInterval(async () => {\r\n      try {\r\n        if (ticketVcList.isScanned) return;\r\n        const res = await fetch(`/api/trading/status?id=${ticketVcList.tradeToken}`);\r\n        const data = await res.json();\r\n        console.log('checkStatus data', data.message);\r\n        setTicketVcList((prev) => ({\r\n          ...prev,\r\n          isScanned: data.message === '票券持有中',\r\n        }));\r\n        handleSearch();\r\n      } catch (err) {\r\n        console.error('票券檢查失敗', err);\r\n      }\r\n    }, 5000); // 每 5 秒檢查一次，可以調整\r\n\r\n    return () => clearInterval(interval2); // 組件卸載時清除計時器\r\n  }, [ticketVcList]);\r\n\r\n  console.log('VPQRNEW', ticketVcList);\r\n  return isMobile ? (\r\n    <>\r\n      <DialogContent sx={{ textAlign: 'center' }}>\r\n        <Typography variant=\"h6\" fontWeight={700} sx={{ mb: 1 }}>\r\n          您的憑證已準備好！\r\n        </Typography>\r\n        <Typography variant=\"body2\" sx={{ color: '#555', mb: 1 }}>\r\n          請點選連接將憑證加入數位憑證皮夾 App，\r\n          {dialogType === 'cancel' && '取消票券販售'}\r\n          {dialogType === 'shelves' && '完成票券上架'}\r\n          {dialogType === 'get' && '完成票券綁定'}\r\n        </Typography>\r\n\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            bgcolor: time === '00:00' ? '#fff1f0' : '#fff8e1',\r\n            color: time === '00:00' ? '#ff4d4f' : '#b26a00',\r\n            borderRadius: 2,\r\n            p: 1,\r\n            mb: 2,\r\n          }}>\r\n          {time === '00:00' ? <ErrorIcon sx={{ mr: 1 }} /> : <WarningAmberIcon sx={{ mr: 1 }} />}\r\n          <Typography variant=\"body2\" fontWeight={600}>\r\n            {time === '00:00'\r\n              ? '您未在 5 分鐘內完成綁定，連結已失效。'\r\n              : '請於 5 分鐘內完成綁定，否則連結將失效。'}\r\n          </Typography>\r\n        </Box>\r\n\r\n        {!ticketVcList.isScanned && <CountdownTimer onTimeChange={setTime}></CountdownTimer>}\r\n\r\n        <Stack spacing={0.5} alignItems=\"center\" textAlign=\"center\">\r\n          <Stack direction=\"row\" spacing={2} alignItems=\"center\" justifyContent=\"center\">\r\n            <Typography variant=\"subtitle2\" fontWeight={600}>\r\n              區域：{ticketVcList?.area}\r\n            </Typography>\r\n\r\n            <Typography variant=\"subtitle2\" fontWeight={600}>\r\n              座位：{ticketVcList?.line}排{ticketVcList?.seat}號\r\n            </Typography>\r\n          </Stack>\r\n\r\n          {/* 第二排：姓名（大字） */}\r\n          <Typography variant=\"subtitle1\" fontWeight={700} sx={{ textTransform: 'none' }}>\r\n            姓名：{ticketVcList?.name}\r\n          </Typography>\r\n        </Stack>\r\n        <Box\r\n          width={'100%'}\r\n          sx={{\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            display: 'flex',\r\n            position: 'relative',\r\n          }}>\r\n          <Box\r\n            sx={{\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              display: 'flex',\r\n              position: 'relative',\r\n              width: 160,\r\n              height: 160,\r\n            }}>\r\n            <Button\r\n              id=\"ticketQRCode\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              disabled={!ticketVcList?.authUri}\r\n              onClick={() => {\r\n                const authUri = ticketVcList?.authUri;\r\n                if (authUri) {\r\n                  window.location.href = authUri;\r\n                }\r\n              }}>\r\n              前往數位憑證皮夾 App 選擇\r\n              {dialogType === 'cancel' && '欲取消的票券'}\r\n              {dialogType === 'shelves' && '欲販售的票券'}\r\n            </Button>\r\n            {ticketVcList?.isScanned && (\r\n              <Box\r\n                sx={{\r\n                  position: 'absolute',\r\n                  top: 0,\r\n                  left: 0,\r\n                  width: '100%',\r\n                  height: '100%',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  bgcolor: 'rgba(255, 255, 255, 0.6)',\r\n                  borderRadius: 2,\r\n                }}>\r\n                <Box\r\n                  sx={{\r\n                    width: 120,\r\n                    height: 120,\r\n                    borderRadius: '50%',\r\n                    border: '5px solid #d32f2f',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    transform: 'rotate(-15deg)',\r\n                    opacity: 0.9,\r\n                  }}>\r\n                  <Typography\r\n                    variant=\"h6\"\r\n                    sx={{\r\n                      color: '#d32f2f',\r\n                      fontWeight: 700,\r\n                      letterSpacing: 2,\r\n                    }}>\r\n                    {dialogType === 'cancel' && '取消販售此票券'}\r\n                    {dialogType === 'shelves' && '選擇販售此票券'}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        </Box>\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            gap: 2,\r\n            mt: 1,\r\n          }}></Box>\r\n      </DialogContent>\r\n    </>\r\n  ) : (\r\n    <>\r\n      <DialogContent sx={{ textAlign: 'center' }}>\r\n        <Typography variant=\"h6\" fontWeight={700} sx={{ mb: 1 }}>\r\n          您的憑證已準備好！\r\n        </Typography>\r\n\r\n        <Typography variant=\"body2\" sx={{ color: '#555', mb: 1 }}>\r\n          請使用數位憑證皮夾 App 掃描 QR Code 完成販售我的票券\r\n        </Typography>\r\n\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            bgcolor: '#fff8e1',\r\n            color: '#b26a00',\r\n            borderRadius: 2,\r\n            p: 1,\r\n            mb: 2,\r\n          }}>\r\n          <WarningAmberIcon sx={{ mr: 1 }} />\r\n          <Typography variant=\"body2\" fontWeight={600}>\r\n            請於 5 分鐘內完成掃描，否則 QR Code 將失效\r\n          </Typography>\r\n        </Box>\r\n\r\n        <Box\r\n          sx={{\r\n            position: 'relative',\r\n            display: 'inline-block',\r\n          }}>\r\n          <img\r\n            src={ticketVcList?.qrcodeImage}\r\n            alt=\"QR Code\"\r\n            style={{\r\n              width: 160,\r\n              height: 160,\r\n              borderRadius: 12,\r\n              border: '1px solid #eee',\r\n            }}\r\n          />\r\n\r\n          {ticketVcList?.isScanned && (\r\n            <Box\r\n              sx={{\r\n                position: 'absolute',\r\n                top: 0,\r\n                left: 0,\r\n                width: '100%',\r\n                height: '100%',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                bgcolor: 'rgba(255, 255, 255, 0.6)',\r\n                borderRadius: 2,\r\n              }}>\r\n              <Box\r\n                sx={{\r\n                  width: 120,\r\n                  height: 120,\r\n                  borderRadius: '50%',\r\n                  border: '5px solid #d32f2f',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  transform: 'rotate(-15deg)',\r\n                  opacity: 0.9,\r\n                }}>\r\n                <Typography\r\n                  variant=\"h6\"\r\n                  sx={{\r\n                    color: '#d32f2f',\r\n                    fontWeight: 700,\r\n                    letterSpacing: 2,\r\n                  }}>\r\n                  已掃描\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          )}\r\n        </Box>\r\n\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            gap: 2,\r\n            mt: 1,\r\n          }}></Box>\r\n      </DialogContent>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1683, "column": 0}, "map": {"version":3,"sources":["file:///Users/iris/Desktop/1117/TicketBox_2025/frontend/src/app/%5Blang%5D/orderInquiry/sections/OrderCard.jsx"],"sourcesContent":["'use client';\r\nimport { Box, Typography, Button, Divider, Chip } from '@mui/material';\r\nimport { styled } from '@mui/system';\r\n\r\nconst TicketCard = styled(Box)(({ theme }) => ({\r\n  position: 'relative',\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n  alignItems: 'center',\r\n  background: 'linear-gradient(135deg, #ede7f6 0%, #f8f5ff 100%)',\r\n  borderRadius: '20px',\r\n  padding: '20px 28px',\r\n  width: '100%',\r\n  maxWidth: '420px',\r\n  boxShadow: '0 6px 14px rgba(156, 39, 176, 0.15), 0 2px 4px rgba(0,0,0,0.05)',\r\n  color: '#333',\r\n  overflow: 'hidden',\r\n\r\n  // 缺角\r\n  '&::before, &::after': {\r\n    content: '\"\"',\r\n    position: 'absolute',\r\n    top: '50%',\r\n    width: '26px',\r\n    height: '26px',\r\n    background: '#f6f4fb',\r\n    borderRadius: '50%',\r\n    transform: 'translateY(-50%)',\r\n    zIndex: 2,\r\n  },\r\n  '&::before': { left: '-13px' },\r\n  '&::after': { right: '-13px' },\r\n\r\n  // 模擬撕線\r\n  '& .dotted-line': {\r\n    // position: 'absolute',\r\n    top: 0,\r\n    bottom: 0,\r\n    // left: '62%',\r\n    width: '1px',\r\n    borderLeft: '2px dashed rgba(156,39,176,0.3)',\r\n    zIndex: 1,\r\n    height: '100%',\r\n    margin: '0 12px',\r\n  },\r\n}));\r\n\r\nconst InfoBox = styled(Box)({\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  flex: 1,\r\n  zIndex: 3,\r\n});\r\n\r\nexport default function TicketOrder({ ticketAllList, handleShelves, handleSearchold }) {\r\n  return (\r\n    <Box display='flex' flexDirection='column' alignItems='center' mt={4} gap={2}>\r\n      {ticketAllList?.map((ticket, index) => (\r\n        <TicketCard key={index}>\r\n          <InfoBox>\r\n            <Typography variant='body1' fontWeight={700}>\r\n              {/* {ticket.event} */}\r\n              BTS PERMISSION TO DANCE ON STAGE - TAIPEI\r\n            </Typography>\r\n\r\n            <Typography variant='body2'>姓名：{ticket.name}</Typography>\r\n            <Typography variant='body2'>信箱：{ticket.email}</Typography>\r\n            <Typography variant='body2'>\r\n              座位：{ticket.area} - {ticket.line}排{ticket.seat}號\r\n            </Typography>\r\n          </InfoBox>\r\n          <span className='dotted-line' />\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n\r\n              minWidth: 100,\r\n              zIndex: 3,\r\n            }}\r\n          >\r\n            <Box\r\n              sx={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                flexDirection: 'column',\r\n              }}\r\n            >\r\n              <Chip\r\n                sx={{ mb: 1 }}\r\n                label={\r\n                  ticket.vcStatus === 'PENDING'\r\n                    ? '未取票'\r\n                    : ticket.vcStatus === 'TRADING'\r\n                    ? '票券販售中'\r\n                    : ticket.vcStatus === 'ACTIVE'\r\n                    ? '已領票'\r\n                    : ticket.vcStatus === 'REVOKED'\r\n                    ? '票券已撤銷'\r\n                    : `其他狀態：${ticket.vcStatus}`\r\n                }\r\n                color={\r\n                  ticket.vcStatus === 'PENDING'\r\n                    ? 'warning'\r\n                    : ticket.vcStatus === 'TRADING'\r\n                    ? 'info'\r\n                    : ticket.vcStatus === 'ACTIVE'\r\n                    ? 'success'\r\n                    : ticket.vcStatus === 'REVOKED'\r\n                    ? 'error'\r\n                    : 'default'\r\n                }\r\n                size='small'\r\n              />\r\n            </Box>\r\n\r\n            {ticket.vcStatus === 'TRADING' && (\r\n              <Button\r\n                onClick={() => handleShelves('cancel', index)}\r\n                variant='contained'\r\n                size='small'\r\n                sx={{\r\n                  px: 3,\r\n                  py: 1,\r\n                  borderRadius: 2,\r\n                  textTransform: 'none',\r\n                }}\r\n              >\r\n                取消販售\r\n              </Button>\r\n            )}\r\n            {ticket.vcStatus === 'ACTIVE' && (\r\n              <Button\r\n                onClick={() => handleShelves('shelves', index)}\r\n                variant='contained'\r\n                size='small'\r\n                sx={{\r\n                  px: 3,\r\n                  py: 1,\r\n                  borderRadius: 2,\r\n                  textTransform: 'none',\r\n                }}\r\n              >\r\n                上架販售\r\n              </Button>\r\n            )}\r\n            {ticket.vcStatus === 'PENDING' && (\r\n              <Button\r\n                onClick={() => handleSearchold('get', index)}\r\n                variant='contained'\r\n                size='small'\r\n                sx={{\r\n                  px: 3,\r\n                  py: 1,\r\n                  borderRadius: 2,\r\n                  textTransform: 'none',\r\n                }}\r\n              >\r\n                領取票券\r\n              </Button>\r\n            )}\r\n          </Box>\r\n        </TicketCard>\r\n      ))}\r\n    </Box>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1932, "column": 0}, "map": {"version":3,"sources":["file:///Users/iris/Desktop/1117/TicketBox_2025/frontend/src/app/%5Blang%5D/orderInquiry/page.jsx"],"sourcesContent":["'use client';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Box, Typography, TextField, Button, Stack, Card, CardContent } from '@mui/material';\r\nimport { useIsMobile } from '@/hook/useIsMobile';\r\nimport Stepper from '@mui/material/Stepper';\r\nimport Step from '@mui/material/Step';\r\nimport StepLabel from '@mui/material/StepLabel';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport TestQR from '@/components/TestQR';\r\nimport WarningAmberIcon from '@mui/icons-material/WarningAmber';\r\nimport BubbleTour from '@/components/Tour/BubbleTour';\r\nimport MenuBookIcon from '@mui/icons-material/MenuBook';\r\n\r\nimport VPQRNew from '@/components/VPQRNew';\r\nimport TicketOrder from './sections/OrderCard';\r\n\r\nimport { LuSearch } from 'react-icons/lu';\r\nexport default function OrderQueryPage() {\r\n  const isMobile = useIsMobile();\r\n\r\n  const [orderNumber, setOrderNumber] = useState('');\r\n  const [email, setEmail] = useState('');\r\n\r\n  const [time, setTime] = useState('');\r\n  const [isReceive, setIsReceive] = useState(false);\r\n  const [ticketVcList, setTicketVcList] = useState([]);\r\n  const [dialogIsOpen, setDialogIsOpen] = useState(false);\r\n  const [verifyResult, setVerifyResult] = useState(null);\r\n  const [shelvesData, setShelvesData] = useState({});\r\n  const [dialogType, setDialogType] = useState({});\r\n  const steps = ['查詢訂單', '訂單查詢結果'];\r\n  const [tourOpen, setTourOpen] = useState(false);\r\n\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n  const [skipped, setSkipped] = React.useState(new Set());\r\n  const handleClickOpen = () => {\r\n    setDialogIsOpen(true);\r\n  };\r\n  const [ticketAllList, setTicketAllList] = useState([]);\r\n  const [stepsTour, setStepsTour] = useState([]);\r\n\r\n  const sendVerifyCode = async (ajaxData) => {\r\n    const res = await fetch('/api/concert/sendVerifyCode', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(ajaxData),\r\n    });\r\n    if (!res.ok) throw new Error('驗證碼發送失敗');\r\n    return res.json();\r\n  };\r\n\r\n  const getAllList = async (ajaxData) => {\r\n    const res = await fetch('/api/concert/allList', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(ajaxData),\r\n    });\r\n    if (!res.ok) throw new Error('驗證碼發送失敗');\r\n    return res.json();\r\n  };\r\n\r\n  const addData = async () => {\r\n    try {\r\n      const res = await fetch(`/api/concert/getVcQrcode?id=${verifyResult.message}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (!res.ok) {\r\n        throw new Error(`HTTP error! status: ${res.status}`);\r\n      }\r\n\r\n      const data = await res.json();\r\n      console.log('API 回傳資料:', data);\r\n      console.log('all:', ticketAllList);\r\n\r\n      const result = data.ticketVcDTOList.map((bItem) => {\r\n        const matched = ticketAllList.find(\r\n          (aItem) =>\r\n            aItem.area === bItem.area && aItem.line === bItem.line && aItem.seat === bItem.seat,\r\n        );\r\n\r\n        return {\r\n          ...bItem,\r\n          name: matched ? matched.name : null, // 沒找到就給 null 或保持不動\r\n        };\r\n      });\r\n\r\n      console.log('合併後的結果:', result);\r\n      setTicketVcList(result);\r\n      setIsReceive(true);\r\n      return data;\r\n    } catch (err) {\r\n      console.error('addData 失敗:', err);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSearchold = async (type, index) => {\r\n    setDialogType(type);\r\n    handleClickOpen();\r\n\r\n    let tour = [\r\n      {\r\n        target: '#sendMail',\r\n        title: '發送驗證信',\r\n        text: '發送驗證信後，請五分鐘內在輸入框輸入收到的驗證碼。',\r\n        position: 'top',\r\n      },\r\n      {\r\n        target: '#verificationBtn',\r\n        title: '驗證',\r\n        text: '點擊此按鈕進行驗證碼驗證，驗證成功後即可取得數位憑證。',\r\n        position: 'top',\r\n      },\r\n    ];\r\n    setStepsTour(tour);\r\n  };\r\n\r\n  const sendEmailVerifyCode = async () => {\r\n    let ajaxData = {\r\n      orderId: orderNumber,\r\n      email: email,\r\n    };\r\n\r\n    let tour = [\r\n      {\r\n        target: '#ticketQRCode',\r\n        title: '加入數位憑證皮夾 App',\r\n        text: '點擊即可將此票券加入您的數位票券錢包，方便隨時出示。',\r\n        position: 'top',\r\n      },\r\n      {\r\n        target: '#navNext',\r\n        title: '下一張票',\r\n        text: '若您的訂單有多張票，可從這裡切換依序加入皮夾。',\r\n        position: 'top',\r\n      },\r\n    ];\r\n    setStepsTour(tour);\r\n\r\n    try {\r\n      const verifyResult = await sendVerifyCode(ajaxData);\r\n      setVerifyResult(verifyResult);\r\n    } catch (err) {\r\n      console.error(err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const handleSearch = async () => {\r\n    console.log('訂單編號:', orderNumber);\r\n    console.log('信箱:', email);\r\n    let ajaxData = {\r\n      orderId: orderNumber,\r\n      email: email,\r\n    };\r\n\r\n    try {\r\n      const allList = await getAllList(ajaxData);\r\n      setTicketAllList(allList);\r\n      handleNext();\r\n    } catch (err) {\r\n      console.error(err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const initData = async () => {\r\n    console.log('訂單編號:', orderNumber);\r\n    console.log('信箱:', email);\r\n    let ajaxData = {\r\n      orderId: orderNumber,\r\n      email: email,\r\n    };\r\n\r\n    try {\r\n      const allList = await getAllList(ajaxData);\r\n      setTicketAllList(allList);\r\n    } catch (err) {\r\n      console.error(err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const handleShelves = async (type, index) => {\r\n    console.log(index, type);\r\n    setDialogType(type);\r\n\r\n    let tour = [\r\n      {\r\n        target: '#ticketQRCode',\r\n        title:\r\n          ticketAllList[index].vcStatus === 'ACTIVE'\r\n            ? '前往數位憑證皮夾 App 選擇欲販售的票券'\r\n            : '前往數位憑證皮夾 App 選擇欲取消的票券',\r\n        text:\r\n          ticketAllList[index].vcStatus === 'ACTIVE'\r\n            ? '點擊即可選擇此票券作為販售票券'\r\n            : '點擊即可取消販售此票券',\r\n        position: 'top',\r\n      },\r\n    ];\r\n    setStepsTour(tour);\r\n    const res = await fetch(`/api/trading/ticketTrading`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        mode: type === 'shelves' ? 'TRADING' : 'CANCEL',\r\n      }),\r\n    });\r\n    const resData = await res.json();\r\n\r\n    resData.line = ticketAllList[index].line;\r\n    resData.seat = ticketAllList[index].seat;\r\n    resData.area = ticketAllList[index].area;\r\n    resData.isScanned = false;\r\n    resData.vcStatus = ticketAllList[index].vcStatus;\r\n    resData.name = ticketAllList[index].name;\r\n    console.log('上架販售結果', resData);\r\n    setShelvesData(resData);\r\n    setDialogIsOpen(true);\r\n    // setDialogType('shelves');\r\n  };\r\n\r\n  // const isErrorMessage = verifyResult?.message?.includes('請確認資訊是否正確');\r\n  // console.log('isErrorMessage', isErrorMessage);\r\n\r\n  const isStepSkipped = (step) => {\r\n    return skipped.has(step);\r\n  };\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setActiveStep(0);\r\n    setOrderNumber('');\r\n    setEmail('');\r\n    setIsReceive(false);\r\n    setTicketVcList([]);\r\n    setVerifyResult(null);\r\n    setShelvesData({});\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dialog\r\n        open={dialogIsOpen}\r\n        maxWidth={dialogType === 'get' ? 'md' : 'sm'}\r\n        fullWidth\r\n        slotProps={{\r\n          paper: {\r\n            sx: {\r\n              borderRadius: 3,\r\n              boxShadow: '0 8px 30px rgba(0,0,0,0.15)',\r\n            },\r\n          },\r\n        }}>\r\n        <Box display=\"flex\" alignItems=\"stretch\">\r\n          <Box flex={1} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\r\n            {dialogType === 'get' && (\r\n              <Box flex={1} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\r\n                <DialogContent sx={{ textAlign: 'center' }}>\r\n                  {!isReceive && (\r\n                    <>\r\n                      <Typography variant=\"h6\" fontWeight={700} sx={{ mb: 1 }}>\r\n                        請輸入信箱驗證碼\r\n                      </Typography>\r\n                      <Box\r\n                        sx={{\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          justifyContent: 'center',\r\n                          bgcolor: '#fff8e1',\r\n                          color: '#b26a00',\r\n                          borderRadius: 2,\r\n                          p: 1,\r\n                          mb: 2,\r\n                        }}>\r\n                        <WarningAmberIcon sx={{ mr: 1 }} />\r\n                        <Typography variant=\"body2\" fontWeight={600}>\r\n                          請於 5 分鐘內完成驗證碼驗證，否則將重新查詢訂單\r\n                        </Typography>\r\n                      </Box>\r\n                      <TextField\r\n                        label=\"信箱驗證碼\"\r\n                        defaultValue={verifyResult?.message || ''}\r\n                        placeholder=\"請輸入信箱驗證碼\"\r\n                        fullWidth\r\n                        slotProps={{\r\n                          inputLabel: {\r\n                            shrink: true,\r\n                          },\r\n                        }}\r\n                      />\r\n                      <Button\r\n                        id=\"sendMail\"\r\n                        variant=\"contained\"\r\n                        onClick={sendEmailVerifyCode}\r\n                        sx={{ mt: 3, py: 1.3, fontWeight: 600 }}>\r\n                        發送驗證信\r\n                      </Button>\r\n\r\n                      <Button\r\n                        id=\"verificationBtn\"\r\n                        disabled={!verifyResult?.message}\r\n                        variant=\"contained\"\r\n                        onClick={addData}\r\n                        sx={{ mx: 2, mt: 3, py: 1.3, fontWeight: 600 }}>\r\n                        驗證\r\n                      </Button>\r\n                    </>\r\n                  )}\r\n\r\n                  {dialogType === 'get' && ticketVcList.length > 0 && (\r\n                    <TestQR oriTicketList={ticketVcList} handleSearch={initData} />\r\n                  )}\r\n                </DialogContent>\r\n              </Box>\r\n            )}\r\n\r\n            {(dialogType === 'shelves' || dialogType === 'cancel') && (\r\n              <VPQRNew\r\n                dialogType={dialogType}\r\n                oriTicketList={shelvesData}\r\n                handleSearch={initData}\r\n              />\r\n            )}\r\n          </Box>\r\n        </Box>\r\n\r\n        <DialogActions\r\n          sx={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n          }}>\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"secondary\"\r\n            sx={{ ml: 2 }}\r\n            onClick={() => setTourOpen(true)}>\r\n            教學說明\r\n          </Button>\r\n          <Button onClick={() => setDialogIsOpen(false)}>關閉</Button>\r\n        </DialogActions>\r\n        <BubbleTour open={tourOpen} steps={stepsTour} onClose={() => setTourOpen(false)} />\r\n      </Dialog>\r\n      <Box sx={{ width: '100%', px: isMobile ? 1 : 4, py: 4 }}>\r\n        <Stepper activeStep={activeStep} alternativeLabel>\r\n          {steps.map((label, index) => {\r\n            const stepProps = {};\r\n            const labelProps = {};\r\n\r\n            if (isStepSkipped(index)) {\r\n              stepProps.completed = false;\r\n            }\r\n\r\n            return (\r\n              <Step key={label} {...stepProps}>\r\n                <StepLabel {...labelProps}>{label}</StepLabel>\r\n              </Step>\r\n            );\r\n          })}\r\n        </Stepper>\r\n        {activeStep === 0 && (\r\n          <Box\r\n            sx={{\r\n              minHeight: '100vh',\r\n              bgcolor: '#f5f6fa',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              py: 4,\r\n            }}>\r\n            <Typography variant=\"h5\" fontWeight=\"bold\" gutterBottom>\r\n              訂單查詢\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\" mb={4}>\r\n              輸入您的訂單編號，即可立即取票\r\n            </Typography>\r\n\r\n            <Card\r\n              elevation={0}\r\n              sx={{\r\n                width: { xs: '80%', md: '50%' },\r\n                borderRadius: 2,\r\n                border: (t) => `1px sold ${t.palette.divider}`,\r\n                backgroundColor: '#FFFFFF',\r\n              }}>\r\n              <CardContent sx={{ display: 'flex', justifyContent: 'space-around', gap: 4 }}>\r\n                <Box\r\n                  sx={{\r\n                    width: '100%',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    alignItems: 'center',\r\n                  }}>\r\n                  <Box\r\n                    color=\"primary.main\"\r\n                    sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n                    <LuSearch size={30} />\r\n                  </Box>\r\n                  <Typography variant=\"subtitle1\" fontWeight=\"bold\" mb={2}>\r\n                    步驟一：查詢您的訂單\r\n                  </Typography>\r\n\r\n                  <Typography variant=\"body2\" mb={1}>\r\n                    請輸入完整的訂單編號進行查詢\r\n                  </Typography>\r\n\r\n                  <Stack spacing={2} sx={{ width: '100%' }}>\r\n                    <TextField\r\n                      label=\"訂單編號\"\r\n                      placeholder=\"請輸入訂單編號\"\r\n                      fullWidth\r\n                      value={orderNumber}\r\n                      onChange={(e) => setOrderNumber(e.target.value)}\r\n                      sx={{ my: 2 }}\r\n                    />\r\n\r\n                    <TextField\r\n                      label=\"信箱\"\r\n                      placeholder=\"請輸入信箱\"\r\n                      fullWidth\r\n                      value={email}\r\n                      onChange={(e) => setEmail(e.target.value)}\r\n                      sx={{ my: 2 }}\r\n                    />\r\n\r\n                    <Button fullWidth variant=\"contained\" color=\"primary\" onClick={handleSearch}>\r\n                      查詢訂單\r\n                    </Button>\r\n                  </Stack>\r\n\r\n                  <Typography variant=\"caption\" display=\"block\" mt={2} color=\"text.secondary\">\r\n                    找不到訂單編號？請確認您的購票確認信箱\r\n                  </Typography>\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n          </Box>\r\n        )}\r\n        {activeStep === 1 && (\r\n          <Box\r\n            sx={{\r\n              minHeight: '100vh',\r\n              bgcolor: '#f5f6fa',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              py: 4,\r\n            }}>\r\n            <Card\r\n              elevation={0}\r\n              sx={{\r\n                width: { xs: '100%', md: '50%' },\r\n                borderRadius: 2,\r\n                border: (t) => `1px sold ${t.palette.divider}`,\r\n                backgroundColor: '#FFFFFF',\r\n              }}>\r\n              <CardContent sx={{ display: 'flex', justifyContent: 'space-around', gap: 4 }}>\r\n                <Box\r\n                  sx={{\r\n                    width: '100%',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    alignItems: 'center',\r\n                  }}>\r\n                  <Box\r\n                    color=\"primary.main\"\r\n                    sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n                    <LuSearch size={30} />\r\n                  </Box>\r\n                  <Typography variant=\"subtitle1\" fontWeight=\"bold\" mb={2}>\r\n                    {orderNumber} : 訂單查詢結果\r\n                  </Typography>\r\n\r\n                  <Stack spacing={2} sx={{ width: '100%' }}>\r\n                    <TicketOrder\r\n                      ticketAllList={ticketAllList}\r\n                      handleShelves={handleShelves}\r\n                      handleSearchold={handleSearchold}></TicketOrder>\r\n\r\n                    {/* <Box px={1}> */}\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={handleReset}>\r\n                      返回查詢頁面\r\n                    </Button>\r\n                  </Stack>\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}